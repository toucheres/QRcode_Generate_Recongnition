# 更新日志

本文档记录了QR码生成识别器的版本更新历史和新功能介绍。

## 版本 3.0.0 (2025-7-18) - 重大功能更新

### 🎉 新功能

#### 完整的识别系统
- ✅ **图片文件识别**: 支持PNG、JPEG、BMP、GIF、TIFF格式
- ✅ **摄像头实时识别**: 自动检测摄像头设备，实时识别二维码
- ✅ **批量识别处理**: 一次性处理多个图片文件
- ✅ **识别结果轮廓显示**: 在图片中高亮显示识别到的二维码位置

#### 智能URL处理系统
- ✅ **自动URL识别**: 识别到网址时自动提示是否打开
- ✅ **可配置自动打开**: 在设置中可开启/关闭自动打开功能
- ✅ **安全URL验证**: 验证URL格式的有效性和安全性
- ✅ **默认开启**: 自动打开URL功能默认启用

#### 响应式UI设计
- ✅ **滚动支持**: 生成器界面支持垂直滚动，完美适配小窗口
- ✅ **主题自适应**: 自动检测系统明暗主题并调整界面
- ✅ **紧凑型布局**: 优化小屏幕和窗口的显示效果
- ✅ **动态调整**: 界面元素根据窗口大小智能调整

#### 多格式条码支持
- ✅ **PDF417优化**: 修复中文编码崩溃问题，自动ASCII转换
- ✅ **Code 128/39**: 添加一维条码格式支持
- ✅ **Data Matrix**: 紧凑型二维码格式支持
- ✅ **格式兼容性检查**: 实时验证文本内容与格式的兼容性

#### 完善的设置系统
- ✅ **持久化存储**: 所有设置自动保存到本地配置文件
- ✅ **一键重置**: 支持恢复所有设置到默认值
- ✅ **用户友好界面**: 直观的设置对话框和实时预览

### 🔧 重要修复

#### PDF417中文处理
- 🐛 **修复崩溃问题**: 使用中文字符生成PDF417时不再崩溃
- 🔧 **自动编码转换**: PDF417自动将中文转换为安全的ASCII编码
- ✅ **向后兼容**: 确保生成的条码可以被标准扫描器识别

#### UI布局优化
- 🐛 **修复垂直空间不足**: 生成器选项过多导致的显示问题
- 🔧 **滚动区域实现**: 采用QScrollArea解决小窗口显示问题
- ✅ **最小尺寸保证**: 确保在任何尺寸窗口下都能正常使用

#### 内存和性能优化
- 🔧 **减少内存占用**: 优化图像处理和存储
- ⚡ **提升识别速度**: 改进识别算法和图像预处理
- 🔧 **异步处理**: 避免UI冻结，提供更流畅的用户体验

### 🏗️ 架构改进

#### 模块化重构
- 📁 **BaseWidget基类**: 统一UI组件基类，提供主题检测功能
- 📁 **AppSettings工具类**: 集中管理所有应用设置和URL处理
- 📁 **Widget分离**: 将生成、识别、摄像头功能完全模块化

#### 代码质量提升
- 📝 **完善注释**: 添加详细的代码注释和文档
- 🧪 **错误处理**: 改进异常处理和用户反馈机制
- 🔒 **类型安全**: 增强类型检查和参数验证

### 📱 用户体验改进

#### 交互优化
- ⌨️ **键盘快捷键**: 完善的快捷键支持
- 🖱️ **右键菜单**: 二维码预览区域的右键操作
- 📋 **剪贴板集成**: 一键复制生成的二维码

#### 视觉改进
- 🎨 **现代化界面**: 采用Material Design设计语言
- 🌓 **主题支持**: 自动适配系统明暗主题
- 📏 **可缩放界面**: 支持不同DPI和屏幕尺寸

### 🔄 迁移指南

从v2.x升级到v3.0:
1. **设置迁移**: 旧版本设置将自动迁移到新格式
2. **功能变更**: 识别功能从"开发中"变为完全可用
3. **新增依赖**: 需要摄像头权限用于实时识别功能

---

## 版本 2.1.0 (2025-7-17) - 稳定性更新

### 🔧 修复和改进
- 🐛 修复QR码生成时的内存泄漏问题
- 🔧 改进UTF-8字符处理的稳定性
- ⚡ 优化大尺寸二维码的生成速度
- 🎨 改进界面布局的响应式设计

### 📱 小功能增强
- ✅ 添加二维码预览的缩放功能
- ✅ 改进错误提示信息的用户友好性
- ✅ 优化启动速度和资源占用

---

## 版本 2.0.0 (2025-7-16) - 架构重构

### 🏗️ 重大架构变更
- 🔄 **Qt6迁移**: 完全迁移到Qt6框架
- 🔄 **模块化架构**: 重新设计代码结构，提高可维护性
- 📁 **CMake构建系统**: 采用现代化的CMake构建配置

### 🎯 新功能准备
- 🔄 识别功能框架搭建（开发中）
- 🔄 摄像头模块集成（开发中）
- 🔄 设置系统基础框架

### 🔧 向后兼容
- ✅ 保持v1.x的所有生成功能
- ✅ 设置文件格式兼容
- ✅ 保持用户界面习惯

---

## 版本 1.2.1 (2025-7-15) - 维护更新

### 🐛 问题修复
- 修复特殊字符在某些情况下的编码问题
- 解决高DPI显示器下的界面缩放问题
- 修复长文本生成时的性能问题

### 🔧 小改进
- 改进错误信息的显示方式
- 优化应用程序启动时间
- 更新第三方库版本

---

## 版本 1.2.0 (2025-7-15) - 功能增强

### ✨ 新功能
- ✅ **Logo嵌入功能**: 支持在二维码中嵌入自定义Logo
- ✅ **多种导出格式**: 支持PNG、JPEG、BMP格式导出
- ✅ **错误纠正级别**: 可选择L、M、Q、H四种错误纠正级别
- ✅ **尺寸自定义**: 支持100-1000像素的自定义尺寸

### 🎨 界面改进
- 改进了用户界面的现代化程度
- 添加了更多的用户反馈和状态提示
- 优化了控件布局和间距

---

## 版本 1.1.0 (2025-7-15) - 稳定性提升

### 🔧 重要改进
- 🐛 **修复UTF-8编码问题**: 完善中文字符的处理
- ⚡ **性能优化**: 提升大文本二维码的生成速度
- 🔒 **输入验证**: 添加输入内容的格式验证

### 📱 用户体验
- 改进错误提示信息
- 添加生成进度指示
- 优化界面响应速度

---

## 版本 1.0.0 (2025-7-15) - 首次发布

### 🎉 初始功能
- ✅ **基础QR码生成**: 支持文本到QR码的基础转换
- ✅ **UTF-8字符支持**: 完整支持中文、日文、韩文等Unicode字符
- ✅ **图形用户界面**: 基于Qt5的现代化用户界面
- ✅ **错误处理**: 完善的异常处理和用户反馈机制

### 🏗️ 技术基础
- **Qt5框架**: 跨平台GUI开发框架
- **ZXing-C++**: 开源条码处理库
- **CMake构建**: 标准化构建系统
- **C++17**: 现代C++标准

---

## 🔮 未来版本规划

### 版本 3.1.0 (计划中)
- 🔄 **云端识别服务**: 集成在线识别API
- 🔄 **批量生成模板**: Excel/CSV批量导入生成
- 🔄 **自定义样式**: 二维码颜色、形状自定义
- 🔄 **插件系统**: 支持第三方功能扩展

### 版本 3.2.0 (规划中)
- 🔄 **数据库集成**: 识别结果存储和搜索
- 🔄 **网络分享**: 二维码在线分享功能
- 🔄 **多语言界面**: 完整的国际化支持
- 🔄 **API接口**: 提供HTTP API给其他应用调用

### 长期规划
- 📱 **移动端应用**: Android/iOS版本开发
- 🌐 **Web版本**: 基于WebAssembly的在线版本
- 🔗 **企业版功能**: 高级批量处理和管理功能
- 🤖 **AI增强识别**: 机器学习提升识别准确率

---

## 📊 版本统计

| 版本 | 发布日期 | 主要特性 |
|------|----------|----------|
| v3.0.0 | 2025-07-18 | 完整识别功能、URL自动打开 |
| v2.1.0 | 2025-07-17 | 稳定性提升 |
| v2.0.0 | 2025-07-16 | Qt6迁移、架构重构 |
| v1.2.1 | 2025-07-15 | 维护更新 |
| v1.2.0 | 2025-07-15 | Logo嵌入功能 |
| v1.1.0 | 2025-07-15 | 稳定性提升 |
| v1.0.0 | 2025-07-15 | 首次发布 |

---

## 🤝 贡献者

感谢所有为项目做出贡献的开发者和用户：

### 核心开发团队
- **主要开发者**: [@toucheres](https://github.com/toucheres)

### 特别贡献
- **UI/UX设计建议**: 来自用户反馈
- **测试和Bug报告**: 社区用户
- **文档改进**: 开源社区贡献者

### 技术支持
- **ZXing-C++项目**: 提供强大的条码处理核心
- **Qt社区**: 提供优秀的跨平台开发框架

---

## 📢 发布说明

### 获取最新版本
- **GitHub Releases**: [下载页面](https://github.com/toucheres/QRcode_Generate_Recongnition/releases)
- **自动更新**: 应用程序内自动检查更新（开发中）

### 支持的平台
- ✅ Windows 10/11 (x64)
- ✅ Ubuntu 18.04+ (x64)
- ✅ macOS 10.14+ (x64/ARM64)

### 系统要求
- **内存**: 最低4GB RAM，推荐8GB
- **存储**: 最低500MB可用空间
- **其他**: 摄像头（实时识别功能）

---

*最后更新: 2025年7月18日*
